@model  SwarajCustomer_Common.Customer.BookPujaPackagesContent
@using SwarajCustomer_Common;
@{
    ViewBag.Title = "Book PujaPackages";
    Layout = "~/Views/Shared/_CustomerLayout.cshtml";
    var Server_Url = CommonMethods.BaseUrl;
}

<div class="col-sm-9 rightbox">
    <div class="fullwidth top">
        <div class="table-heading padding">
            <div class="col-md-8" style="padding-left: 0;">
                <h1 class="col-sm-12 headingbox" style="position: relative; top: 0; padding-left: 0;">@ViewBag.Title</h1>
            </div>
        </div>
    </div>

    <input type="hidden" id="hddMainProductId" value="@Model.MainProductId" />
    <input type="hidden" id="hddPackageId" value="@Model.PackageId" />
    <input type="hidden" id="hddPackageMRP" value="@Model.PackageMRP" />
    <input type="hidden" id="hddPackageDiscount" value="@Model.PackageDiscount" />
    <input type="hidden" id="hddPackageDiscountedPrice" value="@Model.PackageDiscountedPrice" />

    <div class="barwidths borderwidthss" id="adminDashboardLeads">
        <div class="searchfilter">
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Porohit Duration</label>
                @Html.DropDownList("ProhitDuration", new SelectList(Model.Masters.ProhitDuration, "ID", "Name"), "All", new { @id = "ProhitDurationId", @class = "form-control selectoption" })
                <span style="color: red;" class="validation" id="spnProhitDuration"></span>
            </div>

            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Choose Date </label>
                <input type="text" class="form-control date-picker-textbox hasDatepicker" id="startdate_id" placeholder="startdate" readonly />
                <img src="~/Content/images//caleder.png" style="height: 15px; width: 15px;" />
            </div>

            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Choose Time</label>

                @Html.DropDownList("AddTimeSlot", new SelectList(Model.Masters.TimeSlotsList, "ID", "TimeSlot"), "All", new { @id = "AddTimeSlot", @class = "form-control selectoption" })
                <span style="color: red;" class="validation" id="spnAddTimeSlot"></span>
            </div>
        </div>
        <div class="searchfilter">
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Persion of Contact</label>
                <input type="text" class="form-control alphaOnly" id="PersionofContactName" maxlength="50" />
                <span style="color: red;" class="validation" id="spnPersionofContactName"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Contact Number</label>
                <input type="text" class="form-control numberOnly" id="PersionofContactNumber" maxlength="10" />
                <span style="color: red;" class="validation" id="spnPersionofContactNumber"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Samigri</label>
                <div class="col-sm-12 radioboxex">
                    <input type="radio" style="cursor: pointer;" name="Samigri" value="1" checked /><span>With Samigri</span>
                    <input type="radio" style="cursor: pointer;" name="Samigri" value="0" /><span>WithOut Simigri</span>
                </div>
            </div>
        </div>
        <div class="searchfilter">


            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">For whom you are booking for ?</label>
                <div class="col-sm-12 radioboxex">
                    <input type="radio" style="cursor: pointer;" name="IsForOther" value="N" checked />Me <input type="radio" style="cursor: pointer;" name="IsForOther" value="Y" />SomeOne Else
                </div>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">First Name</label>
                <input type="text" class="form-control alphaOnly" id="txtFirstName" />
                <span style="color: red;" class="validation" id="spnFirstName"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Last Name</label>
                <input type="text" class="form-control alphaOnly" id="txtLastName" />
                <span style="color: red;" class="validation" id="spnLastName"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Email Address</label>
                <input type="text" class="form-control" id="txtEmail" />
                <span style="color: red;" class="validation" id="spnEmail"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Contant Number</label>
                <input type="text" class="form-control numberOnly" id="txtContantNumber" maxlength="10" />
                <span style="color: red;" class="validation" id="spnContantNumber"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">Address</label>
                <input type="text" class="form-control alphaNumericOnly" id="txtAddress" />
                <span style="color: red;" class="validation" id="spnAddress"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2">LandMark</label>
                <input type="text" class="form-control alphaNumericOnly" id="txtLandMark" />
                <span style="color: red;" class="validation" id="spnLandMark"></span>
            </div>

            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2"> State </label>
                <select class="form-control selectoption" id="ddState" name="mst_state_id"></select>
                <span style="color: red;" class="validation" id="spnddState"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2"> District </label>
                <select class="form-control selectoption" id="ddDistrict" name="mst_district_id"></select>
                <span style="color: red;" class="validation" id="spnddDistrict"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2"> PinCode </label>
                <input type="text" class="form-control NumericOnly" id="txtPinCode" maxlength="6" />
                <span style="color: red;" class="validation" id="spnPinCode"></span>
            </div>
            <div class="col-sm-3 searchbox newlabel">
                <label class="control-label col-md-2"> What Amount you are pay ?</label>
                <div class="col-sm-12 radioboxex">
                    <input type="radio" style="cursor: pointer;" name="Payment" value="Y" checked /><span>Full Payment</span>
                    <input type="radio" style="cursor: pointer;" name="Payment" value="N" /><span>20% payment</span>
                </div>
            </div>
        </div>
    </div>
    <div class="buttonsenterbox margintops">
        <button class="btn btn-success yes" id="btn_save" onclick="SavePackageOrder('Y')">Add To Cart</button>
        <button class="btn btn-success yes black" id="btn_save" onclick="SavePackageOrder('N')">Book Now</button>
        <button class="btn btn-success yes" id="btn_save" onclick="RedirectToIndex('@Model.PackageId')">Cencel</button>
    </div>
</div>

<script src="~/Scripts/function.js"></script>
<script src="~/Areas/Customer/Scripts/bookpujapackages.js"></script>

<script>
    var $_RedirectToIndex = '/BookPujaPackages/Index';

    var $_SavePackageOrderUrl = "";
    if ('@Server_Url'.indexOf('AgriGuru') >= 1) {
        $_SavePackageOrderUrl = '/AgriGuru/Booking/SavePackageOrder/';
    }
    else if ('@Server_Url'.indexOf('PujaGuru') >= 1) {
        $_SavePackageOrderUrl = '/PujaGuru/Booking/SavePackageOrder/';
    }
    else {
        $_SavePackageOrderUrl = '/Booking/SavePackageOrder/';
    }



    var $_FirstName = '@Model.Userprofile.FirstName';
    var $_LastName = '@Model.Userprofile.LastName';
    var $_Email = '@Model.Userprofile.Email';
    var $_MobileNumber = '@Model.Userprofile.MobileNumber';
    var $_Address = '@Model.Userprofile.Address';
    var $_Landmark = '@Model.Userprofile.Landmark'.replace('&amp;', '&');
    var $_PinCode = '@Model.Userprofile.PinCode';
    var $_CityName = '@Model.Userprofile.City'.replace('&amp;', '&');
    var $_StateId = '@Model.Userprofile.StateId';
    var $_DistrictId = '@Model.Userprofile.DistrictId';

    var $_DOB = '@Model.Userprofile.DOB';
    var $_TOB = '@Model.Userprofile.TOB'; if ($_TOB == "") { $_TOB = "12:00:AM" }

    var _d = $_DOB.split("-");
    var defaultDate = toTimestamp(_d[2], _d[1], _d[0]);

    var $_SamagriMRP = '@Model.Masters.SamagriList[0].MRP';
    var $_SamagriDiscount = '@Model.Masters.SamagriList[0].Discount';
    var $_SamagriDiscountPrice = '@Model.Masters.SamagriList[0].DiscountedPrice';

    AlphaOnly('.alphaOnly');
    NumberOnly('.numberOnly');
    DecimalOnly('.decimalOnly');
    AlphaNumericOnly('.alphaNumericOnly');
    AlphaPlusMinus('.alphaPlusMinus');
    PreventKey('.preventkey');
    SevenDigitWithTwoDeci('.SevenWithTwoDeci');

    $(".Skype").addClass('hide');

    $(document).ready(function () {

        $("#AUpcoming").trigger("click");

        var d = new Date();
        var currMonth = d.getMonth();
        var currYear = d.getFullYear();
        var currDate = d.getDate();
        var endDate = new Date(currYear, currMonth, currDate + 1);

        $("#startdate_id").datetimepicker({
            format: "DD-MM-YYYY",
            pickTime: false,
            autoclose: true,
            defaultDate: endDate,
            minDate: endDate,
        });

        $("#DateOfBirth").datetimepicker({
            format: "DD-MM-YYYY",
            pickTime: false,
            autoclose: true,
            defaultDate: defaultDate,
            maxDate: moment()
        });

        $("#DateOfTime").datetimepicker({
            format: "hh:mm A",
            pickTime: true,
            autoclose: true,
            ampm: true, // FOR AM/PM FORMAT
            pickDate: false,
            minuteStep: 15,
            pickerPosition: 'bottom-right',
            showMeridian: true,
            startView: 1,
            maxView: 1,
            defaultDate: $_TOB
        });


        $("#txtFirstName").val($_FirstName);
        $("#txtLastName").val($_LastName);
        $("#txtEmail").val($_Email);
        $("#txtContantNumber").val($_MobileNumber);
        $("#txtAddress").val($_Address);
        $("#txtLandMark").val($_Landmark);
        $("#txtPinCode").val($_PinCode);
        $("#txtCityName").val($_CityName);

        debugger;
        GetState($_StateId);
        setTimeout(function () {
            GetDistrict($_StateId, $_DistrictId);
        }, 2000);
    });


</script>

<style>

    .tab button:last-child {
        border: none;
    }
    /* Style the tab */
    .tab {
        overflow: hidden;
        border: 1px solid #333;
        background-color: #333;
        padding-left: 0;
        padding-right: 0;
    }

        .tab button {
            background-color: inherit;
            float: left;
            border: none;
            outline: none;
            cursor: pointer;
            padding: 14px 16px;
            transition: 0.3s;
            font-size: 17px;
            color: #fff;
            border-right: 1px solid #fff;
        }

            /* Change background color of buttons on hover */
            .tab button:hover {
                background-color: #b50000;
            }

            /* Create an active/current tablink class */
            .tab button.active {
                background-color: #b50000;
            }

    /* Style the tab content */
    .tabcontent {
        display: none;
        padding: 6px 12px;
        border: 1px solid #ccc;
        border-top: none;
        float: left;
        margin-top: -11px;
        width: 100%;
    }

    .modal-dialog.reminderpop .modal-body img {
        position: absolute;
        right: 0;
        top: 24px;
        right: 24px;
    }

    .fullwidths.booking p {
        width: auto;
        display: inline-block;
    }

    .fullwidths.booking span {
        font-weight: bold;
        /* font-size: 16px; */
    }

    .fullwidths.booking {
        font-size: 14px;
        line-height: 34px;
    }

    .searchfilter.topwidth .col-sm-3.searchbox.newlabel {
        width: 16%;
    }

    .col-sm-3.searchbox label.control-label.col-md-2 {
        position: relative;
        left: 0;
        padding: 0;
        width: 100%;
        margin-bottom: 15px;
    }

    .radiotext {
        margin-right: 10px;
    }

    .searchfilter.topwidth .col-sm-4.searchbox.newlabel {
        width: 34% !important;
        float: left;
        margin: auto;
        max-width: 100%;
    }

    .validation {
        bottom: -20px;
        font-size: 12px;
    }

    .searchfilter .searchbox {
        margin-bottom: 20px;
    }

    .col-sm-3.searchbox select {
        width: 100% !important;
        float: left;
    }

    .searchfilter.topwidth .col-sm-4.searchbox.newlabel label.control-label.col-md-2 {
        padding: 0;
        width: 100%;
        margin: 10px 0;
    }

    .col-sm-3.searchbox.newlabel label.control-label {
        width: 100%;
        float: left;
        position: relative;
        margin: 0 0 14px;
        padding: 0;
    }

    .col-sm-3.searchbox.newlabel img {
        position: absolute;
        right: 30px;
        bottom: 10px;
    }

    .searchfilter.topwidth select#AddTimeSlot {
        width: 100%;
    }

    .col-sm-12.radioboxex {
        padding: 0;
    }

        .col-sm-12.radioboxex input[type="radio"] {
            position: relative;
            top: 2px;
        }

        .col-sm-12.radioboxex span {
            margin: 0 8px;
        }
</style>